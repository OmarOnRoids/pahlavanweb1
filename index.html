<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic Media Layout</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            overflow: hidden;
        }

        #container {
            position: relative;
            width: 100vw;
            height: 100vh;
            border: 10px solid black;
        }

        .media {
            position: absolute;
            aspect-ratio: 1 / 1;
            width: auto;
            height: auto;
            max-width: 15vw;
            max-height: 15vh;
        }

        img.media, video.media {
            transition: transform 0.5s;
        }
    </style>
</head>
<body>
    <div id="container"></div>

    <script>
        const container = document.getElementById('container');

        // Updated media files
        const mediaFiles = [
            { type: 'image', src: '/mnt/data/photo_2024-11-12_16-12-29.jpg' },
            { type: 'image', src: '/mnt/data/photo_2025-01-08_23-39-35.jpg' },
            { type: 'image', src: '/mnt/data/photo_2025-01-08_23-39-48.jpg' },
            { type: 'image', src: '/mnt/data/photo_2025-01-08_23-40-21.jpg' },
            { type: 'image', src: '/mnt/data/photo_2025-01-08_23-40-26.jpg' },
            { type: 'video', src: '/mnt/data/محمد السليم سيارتي جيب.mp4' }
        ];

        const occupiedAreas = [];

        function randomPosition() {
            let top, left;
            let overlap;

            do {
                top = Math.random() * 85;
                left = Math.random() * 85;
                overlap = occupiedAreas.some(area => {
                    return (
                        top < area.bottom &&
                        top + 15 > area.top &&
                        left < area.right &&
                        left + 15 > area.left
                    );
                });
            } while (overlap);

            occupiedAreas.push({
                top,
                left,
                bottom: top + 15,
                right: left + 15
            });

            return { top: `${top}%`, left: `${left}%` };
        }

        function createMediaElement(media) {
            let element;

            if (media.type === 'image') {
                element = document.createElement('img');
                element.src = media.src;
            } else if (media.type === 'video') {
                element = document.createElement('video');
                element.src = media.src;
                element.autoplay = true;
                element.loop = true;
                element.muted = true;
            }

            element.classList.add('media');
            const { top, left } = randomPosition();
            element.style.top = top;
            element.style.left = left;

            container.appendChild(element);
        }

        mediaFiles.forEach(createMediaElement);

    </script>
</body>
</html>
